/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/pytest_asyncio/plugin.py:208: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-8.3.3, pluggy-1.6.0 -- /home/jules/.pyenv/versions/3.12.12/bin/python3.12
cachedir: .pytest_cache
rootdir: /app
configfile: pyproject.toml
plugins: asyncio-0.24.0, anyio-4.12.1
asyncio: mode=Mode.STRICT, default_loop_scope=None
collecting ... collected 58 items

tests/test_alerts.py::test_system_alerts_rejects_invalid_date PASSED     [  1%]
tests/test_alerts.py::test_system_alerts_works_for_valid_date PASSED     [  3%]
tests/test_cosmic_weather.py::test_cosmic_weather_has_ptbr_fields PASSED [  5%]
tests/test_cosmic_weather_additions.py::test_cosmic_weather_has_new_fields PASSED [  6%]
tests/test_cosmic_weather_range.py::test_range_returns_expected_length PASSED [  8%]
tests/test_cosmic_weather_range.py::test_range_rejects_invalid_date_format PASSED [ 10%]
tests/test_cosmic_weather_range.py::test_range_rejects_from_after_to PASSED [ 12%]
tests/test_cosmic_weather_range.py::test_range_rejects_over_90_days PASSED [ 13%]
tests/test_cosmic_weather_range.py::test_range_accepts_manual_tz_offset PASSED [ 15%]
tests/test_cosmic_weather_range.py::test_range_accepts_timezone_name PASSED [ 17%]
tests/test_cosmic_weather_range.py::test_range_rejects_invalid_timezone PASSED [ 18%]
tests/test_cosmic_weather_range.py::test_range_requires_auth_headers PASSED [ 20%]
tests/test_distributions.py::test_distributions_shape PASSED             [ 22%]
tests/test_ephemeris_check.py::test_ephemeris_check_compares_against_swiss_ephemeris PASSED [ 24%]
tests/test_ephemeris_check.py::test_ephemeris_check_rejects_invalid_timezone PASSED [ 25%]
tests/test_golden_ephemeris.py::test_compute_chart_matches_swiss_ephemeris_moon_longitude PASSED [ 27%]
tests/test_golden_ephemeris.py::test_compute_moon_only_sign_matches_chart_sign PASSED [ 29%]
tests/test_health.py::test_health_ok PASSED                              [ 31%]
tests/test_insights.py::test_mercury_retrograde_endpoint PASSED          [ 32%]
tests/test_insights.py::test_dominant_theme_endpoint PASSED              [ 34%]
tests/test_insights.py::test_areas_activated_endpoint PASSED             [ 36%]
tests/test_insights.py::test_care_suggestion_endpoint PASSED             [ 37%]
tests/test_insights.py::test_life_cycles_endpoint PASSED                 [ 39%]
tests/test_interpretation.py::test_interpretation_shape PASSED           [ 41%]
tests/test_longitude_match.py::test_longitude_match_golden_cases PASSED  [ 43%]
tests/test_longitude_match.py::test_longitude_match_within_tolerance PASSED [ 44%]
tests/test_natal.py::test_natal_has_ptbr_fields PASSED                   [ 46%]
tests/test_render_data.py::test_render_data_accepts_year_payload PASSED  [ 48%]
tests/test_render_data.py::test_render_data_rejects_natal_payload PASSED [ 50%]
tests/test_retrogrades.py::test_retrogrades_endpoint_schema PASSED       [ 51%]
tests/test_schema_errors.py::test_resolve_tz_rejects_natal_fields PASSED [ 53%]
tests/test_schema_errors.py::test_transits_rejects_year_payload PASSED   [ 55%]
tests/test_solar_overlay.py::test_solar_return_overlay_shape PASSED      [ 56%]
tests/test_solar_return.py::test_solar_return_structure PASSED           [ 58%]
tests/test_solar_return.py::test_solar_return_matches_sun_longitude PASSED [ 60%]
tests/test_solar_return.py::test_solar_return_missing_time_warns PASSED  [ 62%]
tests/test_solar_return_reference.py::test_solar_return_reference_longitude_matches_natal PASSED [ 63%]
tests/test_solar_return_reference.py::test_solar_return_reference_utc_matches PASSED [ 65%]
tests/test_solar_return_reference.py::test_natal_reference_sun_longitude PASSED [ 67%]
tests/test_solar_return_reference.py::test_return_sun_longitude_matches_expected_fixture PASSED [ 68%]
tests/test_system_endpoints.py::test_system_endpoints_requires_flag PASSED [ 70%]
tests/test_system_endpoints.py::test_system_endpoints_enabled PASSED     [ 72%]
tests/test_timeline_year.py::test_solar_return_timeline_year_has_items PASSED [ 74%]
tests/test_timezone.py::test_resolve_timezone_utc PASSED                 [ 75%]
tests/test_timezone.py::test_resolve_timezone_dst_difference PASSED      [ 77%]
tests/test_timezone.py::test_cosmic_weather_accepts_timezone PASSED      [ 79%]
tests/test_timezone.py::test_validate_local_datetime_fall_back_ambiguous_strict PASSED [ 81%]
tests/test_timezone.py::test_validate_local_datetime_fall_back_ambiguous_relaxed PASSED [ 82%]
tests/test_timezone.py::test_validate_local_datetime_spring_forward_inexistent_strict PASSED [ 84%]
tests/test_timezone.py::test_validate_local_datetime_spring_forward_inexistent_relaxed PASSED [ 86%]
tests/test_timezone.py::test_validate_local_datetime_midnight_has_used_datetimes PASSED [ 87%]
tests/test_timezone_dst.py::test_validate_local_datetime_dst_end_ambiguous PASSED [ 89%]
tests/test_timezone_dst.py::test_validate_local_datetime_dst_start_nonexistent PASSED [ 91%]
tests/test_timezone_dst.py::test_validate_local_datetime_previous_day_utc PASSED [ 93%]
tests/test_transit_events.py::test_transit_events_shape_and_score PASSED [ 94%]
tests/test_transits.py::test_transits_has_ptbr_fields PASSED             [ 96%]
tests/test_transits_areas.py::test_transits_includes_areas_activated PASSED [ 98%]
tests/test_vectors.py::test_natal_chart_test_vector_pt_br PASSED         [100%]

=============================== warnings summary ===============================
../home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/pydantic/_internal/_fields.py:172
  /home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/pydantic/_internal/_fields.py:172: UserWarning: Field name "copy" in "TransitEvent" shadows an attribute in parent "BaseModel"
    warnings.warn(

tests/test_alerts.py: 2 warnings
tests/test_cosmic_weather.py: 1 warning
tests/test_cosmic_weather_additions.py: 1 warning
tests/test_cosmic_weather_range.py: 8 warnings
tests/test_distributions.py: 1 warning
tests/test_ephemeris_check.py: 2 warnings
tests/test_health.py: 1 warning
tests/test_insights.py: 5 warnings
tests/test_interpretation.py: 1 warning
tests/test_natal.py: 1 warning
tests/test_render_data.py: 2 warnings
tests/test_retrogrades.py: 1 warning
tests/test_schema_errors.py: 2 warnings
tests/test_solar_overlay.py: 1 warning
tests/test_solar_return.py: 3 warnings
tests/test_system_endpoints.py: 2 warnings
tests/test_timeline_year.py: 1 warning
tests/test_timezone.py: 9 warnings
tests/test_timezone_dst.py: 5 warnings
tests/test_transit_events.py: 1 warning
tests/test_transits.py: 1 warning
tests/test_transits_areas.py: 1 warning
tests/test_vectors.py: 2 warnings
  /app/main.py:39: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    "ts": datetime.utcnow().isoformat() + "Z",

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================= 58 passed, 55 warnings in 3.69s ========================
